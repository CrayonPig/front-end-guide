(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{429:function(t,n,s){"use strict";s.r(n);var e=s(25),a=Object(e.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),n("p",[t._v("当我们使用命令行方式运行 "),n("code",[t._v("vite")]),t._v(" 时，"),n("code",[t._v("Vite")]),t._v(" 会自动解析 项目根目录 下名为 "),n("code",[t._v("vite.config.js")]),t._v(" 的配置文件（也支持其他 JS 和 TS 扩展名）。")]),t._v(" "),n("p",[t._v("具体使用方式，"),n("a",{attrs:{href:"https://cn.vitejs.dev/config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网文档"),n("OutboundLink")],1),t._v(" 已经说的很详细了，这里说一些容易出错的问题")]),t._v(" "),n("h2",{attrs:{id:"ts-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ts-配置"}},[t._v("#")]),t._v(" TS 配置")]),t._v(" "),n("p",[t._v("在使用 TypeScript 编写 Vite 配置文件时，需要配置 "),n("code",[t._v("tsconfig.json")]),t._v(" 文件以确保 TypeScript 编译器正确地编译代码。以下是一些常见的配置选项：")]),t._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tsconfig.json")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"isolatedModules"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否将每个文件作为独立的模块进行编译，主要用于兼容 esbuild，esbuild 只执行没有类型信息的转译且不支持某些特性。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"skipLibCheck"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当有些第三方库不能很好地兼容 “isolatedModules” 时，可使用这个属性来缓解错误。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"moduleResolution"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bundler"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定使用打包工具提供的模块解析策略。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"esModuleInterop"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 启用对使用 CommonJS 模块的库的默认导入的支持。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowSyntheticDefaultImports"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在没有默认导出的时候允许使用 “import x from y” 导入。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"noEmit"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否生成输出文件。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"allowImportingTsExtensions"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否允许 “.ts” 后缀文件的导入。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resolveJsonModule"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否允许 JSON 文件作为模块。")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1731410154795-62870"}},[t._v("成功")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":'// tsconfig.json\n{\n  "compilerOptions": {\n    "isolatedModules": true, // 是否将每个文件作为独立的模块进行编译，主要用于兼容 esbuild，esbuild 只执行没有类型信息的转译且不支持某些特性。\n    "skipLibCheck": true, // 当有些第三方库不能很好地兼容 “isolatedModules” 时，可使用这个属性来缓解错误。\n    "moduleResolution": "bundler", // 指定使用打包工具提供的模块解析策略。\n    "esModuleInterop": true, // 启用对使用 CommonJS 模块的库的默认导入的支持。\n    "allowSyntheticDefaultImports": true, // 在没有默认导出的时候允许使用 “import x from y” 导入。\n    "noEmit": true, // 是否生成输出文件。\n    "allowImportingTsExtensions": true, // 是否允许 “.ts” 后缀文件的导入。\n    "resolveJsonModule": true // 是否允许 JSON 文件作为模块。\n  }\n}\n',"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1731410154795-62870","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("复制代码")])])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("h2",{attrs:{id:"ts-客户端类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ts-客户端类型"}},[t._v("#")]),t._v(" TS 客户端类型")]),t._v(" "),n("ol",[n("li",[n("strong",[t._v("一些客户端需要用到的变量声明。图片，文件等模块化声明")]),t._v("：在客户端代码中，可能需要声明一些变量来引用图片、文件等资源。可以使用 TypeScript 的模块化声明来确保类型安全。")]),t._v(" "),n("li",[n("strong",[t._v("d.ts 声明文件")]),t._v("：\n"),n("ul",[n("li",[n("strong",[t._v("三斜线注释")]),t._v("："),n("code",[t._v('/// <reference types="vite/client" />')]),t._v(" 用于在 TypeScript 文件中引用 Vite 客户端的类型定义。")]),t._v(" "),n("li",[n("strong",[t._v("ts 配置")]),t._v("：在 "),n("code",[t._v("tsconfig.json")]),t._v(" 文件中设置 "),n("code",[t._v('"types":["vite/client"]')]),t._v(" 可以确保 TypeScript 编译器正确地识别 Vite 客户端的类型定义。")])])])]),t._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// client.d.ts")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('/// <reference types="vite/client" />')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("declare")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("module")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.png'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1731410154795-22185"}},[t._v("成功")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"// client.d.ts\n/// <reference types=\"vite/client\" />\n\ndeclare module '*.png' {\n  const value: string;\n  export default value;\n}\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1731410154795-22185","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("复制代码")])])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("h2",{attrs:{id:"环境变量与模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境变量与模式"}},[t._v("#")]),t._v(" 环境变量与模式")]),t._v(" "),n("ol",[n("li",[n("p",[n("strong",[t._v("process.env")]),t._v("：在 Vite 配置文件中，可以使用 "),n("code",[t._v("process.env")]),t._v(" 来访问环境变量。这些环境变量可以在不同的运行环境中设置，以控制应用的行为。")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("添加额外的环境变量")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v(".env")]),t._v("：通用的环境变量文件，可以在任何环境中使用。")]),t._v(" "),n("li",[n("code",[t._v(".env.[model]")]),t._v("：特定模式下的环境变量文件，如 "),n("code",[t._v(".env.development")]),t._v(" 用于开发模式。")]),t._v(" "),n("li",[n("code",[t._v(".env.local")]),t._v("：本地环境变量文件，通常用于本地开发，不会被提交到版本控制系统中。")]),t._v(" "),n("li",[n("code",[t._v(".env.[model].local")]),t._v("：特定模式下的本地环境变量文件。")])])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("加载")]),t._v("：")]),t._v(" "),n("ul",[n("li",[t._v("Vite 默认是不加载 "),n("code",[t._v(".env")]),t._v(" 文件的，因为这些文件需要在执行完 Vite 配置后才能确定加载哪一个。")]),t._v(" "),n("li",[n("code",[t._v("loadEnv(mode: string, envDir: string, prefixes?: string | string[])")]),t._v("：用于加载特定模式下的环境变量文件。")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loadEnv "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vite'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mode "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据当前工作目录中的 `mode` 加载 .env 文件")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 设置第三个参数为 '' 来加载所有环境变量，而不管是否有 `VITE_` 前缀。")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" env "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadEnv")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cwd")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vite 配置")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("define")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("__APP_ENV__")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("APP_ENV")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")]),n("div",{pre:!0,attrs:{class:"m-mdic-copy-wrapper"}},[n("div",{pre:!0,attrs:{class:"u-mdic-copy-notify",id:"j-notify-1731410154795-59545"}},[t._v("成功")]),n("button",{pre:!0,attrs:{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":"import { defineConfig, loadEnv } from 'vite'\n\nexport default defineConfig(({ command, mode }) => {\n  // 根据当前工作目录中的 `mode` 加载 .env 文件\n  // 设置第三个参数为 '' 来加载所有环境变量，而不管是否有 `VITE_` 前缀。\n  const env = loadEnv(mode, process.cwd(), '')\n  return {\n    // vite 配置\n    define: {\n      __APP_ENV__: JSON.stringify(env.APP_ENV),\n    },\n  }\n})\n","data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1731410154795-59545","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"}},[t._v("复制代码")])])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("模式")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("开发服务器 --\x3e development（开发）模式")]),t._v("：自动加载 "),n("code",[t._v(".env.development")]),t._v(" 文件。")]),t._v(" "),n("li",[n("strong",[t._v("build 命令 --\x3e production（生产）模式")]),t._v("：自动加载 "),n("code",[t._v(".env.production")]),t._v(" 文件。")]),t._v(" "),n("li",[n("strong",[t._v("覆盖默认模式 --model（比如 --model test）")]),t._v("：需要加载 "),n("code",[t._v(".env.test")]),t._v(" 文件。")])])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("import.meta.env")]),t._v("：")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("客户端暴露环境变量")]),t._v("：在客户端代码中，可以通过 "),n("code",[t._v("import.meta.env")]),t._v(" 访问环境变量。以下是一些常见的环境变量：\n"),n("ul",[n("li",[n("code",[t._v("MODE: {string}")]),t._v("：应用运行的模式。")]),t._v(" "),n("li",[n("code",[t._v("BASE_URL: {string}")]),t._v("：部署应用时的基本 URL。它由 "),n("code",[t._v("base")]),t._v(" 配置项决定。")]),t._v(" "),n("li",[n("code",[t._v("PROD: {boolean}")]),t._v("：应用是否运行在生产环境。")]),t._v(" "),n("li",[n("code",[t._v("DEV: {boolean}")]),t._v("：应用是否运行在开发环境。")]),t._v(" "),n("li",[n("code",[t._v("SSR: {boolean}")]),t._v("：应用是否运行在服务器上。")])])]),t._v(" "),n("li",[n("strong",[t._v("默认以 VITE_ 为前缀的变量才会暴露")]),t._v("：可以通过设置 "),n("code",[t._v("envPrefix")]),t._v(" 来指定自定义的前缀。")]),t._v(" "),n("li",[n("strong",[t._v("TS 提示")]),t._v("：可以使用接口 "),n("code",[t._v("ImportMetaEnv")]),t._v(" 和 "),n("code",[t._v("ImportMeta")]),t._v(" 来提供类型提示。")])])])])])}),[],!1,null,null,null);n.default=a.exports}}]);